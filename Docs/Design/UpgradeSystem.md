# 업그레이드 시스템

> 로그라이크 스타일의 증분 기반 업그레이드 시스템

## 개요

레벨업 시 랜덤으로 제시된 **3가지 업그레이드 중 하나를 선택**합니다. 각 업그레이드는 최대 레벨까지 반복 선택 가능하며, PlayerStats를 통해 중앙 관리됩니다.

## 구현된 업그레이드

| No. | 필드 | 한글 이름 | 증가량 | 최대 레벨 | 초기값 → 최대값 |
|-----|------|----------|--------|----------|----------------|
| 1 | MaxDurability | 최대 내구도 | +50 | 10 | 100 → 600 |
| 2 | MaxShield | 최대 실드 | +50 | 10 | 100 → 600 |
| 3 | ShieldRegenRate | 실드 재생 속도 | +5/초 | 8 | 20 → 60/초 |
| 4 | ShieldRegenDelay | 실드 재생 지연 | -0.2초 | 5 | 2초 → 1초 |
| 5 | MultiShot | 멀티샷 | +1발 | 4 | 1발 → 5발 |
| 6 | OnImpact | 충돌 피해 | +5 | 10 | 10 → 60 |

### 업그레이드 설명

**1~2. 최대 내구도/실드**: 최대치 증가 시 현재 값도 함께 증가

**3. 실드 재생 속도**: 마지막 피해 후 일정 시간 경과 후 자동 재생

**4. 실드 재생 지연**: 재생 시작까지 대기 시간 감소 (음수 증분)

**5. 멀티샷**: 각 FirePoint마다 확산 패턴으로 발사

**6. 충돌 피해**: 적과 충돌 시 적에게 가하는 피해 (플레이어가 받는 피해는 별개)

## 빌드 전략

### 탱커 빌드
**핵심**: #2 최대 실드, #3 실드 재생 속도, #4 실드 재생 지연 감소, #6 충돌 피해

**플레이**: 적과 부딪히면서 싸우는 근접 빌드

### 사격 빌드
**핵심**: #5 멀티샷, #7 연사 속도(TODO), #8 발사체 데미지(TODO)

**플레이**: 원거리에서 압도적인 화력으로 제압

### 충돌 빌드
**핵심**: #6 충돌 피해, #10 이동 속도(TODO), #2 최대 실드

**플레이**: 적에게 돌진하여 충돌로 격파

### 기동 빌드
**핵심**: #10 이동 속도(TODO), #11 회전 속도(TODO), #3 실드 재생

**플레이**: 빠른 움직임으로 적을 회피하며 견제

## 미구현 업그레이드 (TODO)

| No. | 필드 | 한글 이름 | 증가량 | 설명 |
|-----|------|----------|--------|------|
| 7 | FireRate | 연사 속도 | -0.02초 | fireDelay 감소 |
| 8 | ProjectileDamage | 발사체 데미지 | +2 | 발사체 피해량 증가 |
| 9 | ProjectileSpeed | 발사체 속도 | +1 | 발사체 이동 속도 증가 |
| 10 | MoveSpeed | 이동 속도 | +1 | 플레이어 이동 속도 증가 |
| 11 | RotateSpeed | 회전 속도 | +20°/s | 플레이어 회전 속도 증가 |
| 12 | ImpactResist | 충돌 저항 | +5% | 충돌 시 받는 피해 감소 |

> **참고**: PlayerStats.cs에 모든 필드가 이미 정의되어 있습니다. UpgradeData.cs에만 추가하면 바로 사용 가능합니다.

## 구현 파일

- [UpgradeData.cs](../../Assets/Scripts/UpgradeData.cs) - 증분값, 최대 레벨, 한글 이름 정의
- [UpgradeManager.cs](../../Assets/Scripts/UpgradeManager.cs) - 업그레이드 선택 로직
- [PlayerStats.cs](../../Assets/Scripts/Player/PlayerStats.cs) - 스탯 중앙 관리
